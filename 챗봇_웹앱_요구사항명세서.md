# 챗봇 웹앱 요구사항 명세서

이 문서는 AI 챗봇 웹앱 개발을 위한 최종 요구사항 명세서입니다. 아래 항목은 질문 및 코멘트, 그리고 사용자의 답변을 바탕으로 구체화되었습니다.

---

## 1. 서비스 개요
- **목적:** 미리 만든 챗봇(페르소나/프롬프트 포함)을 외부에 공유하고, URL을 통해 누구나 해당 챗봇과 대화할 수 있도록 한다.
- **주요 기능:** 챗봇 생성, 프롬프트/페르소나 설정, URL 공유, 대화 기록 관리 등

## 2. AI 및 프롬프트 처리
- **AI 모델:** GPT-3.5 또는 딥시크(구체적 API/서비스는 추후 확정)
- **프롬프트 전달:**
  - 프롬프트, 페르소나 등 챗봇 설정은 DB에 저장
  - URL에는 해당 챗봇을 식별할 수 있는 id(예: `?id=12345`)만 포함
  - 웹앱은 id로 DB에서 프롬프트/설정 정보를 조회하여 챗봇에 적용
- **프롬프트 포맷:**
  - 사용자가 입력한 텍스트를 JSON 형태로 변환하여 AI API에 전달
  - 예시: `{ "persona": "친절한 비서", "prompt": "오늘 날씨 알려줘" }`
- **대화 기록:**
  - 대화의 연속성을 위해 이전 대화 기록도 함께 전달
  - 기록의 길이 제한 및 저장 방식(메모리/DB 등) 고려

## 3. URL 설계 및 보안
- **URL 구조:**
  - 기본: `https://yourapp.com/chat?id=챗봇ID`
  - id는 반드시 `encodeURIComponent`로 인코딩
- **보안:**
  - 프롬프트/설정 등 민감한 정보는 URL에 직접 노출하지 않음
  - 악의적 사용 방지를 위해 rate limit, abuse 방지 대책 필요
  - 개인정보가 대화에 포함되지 않도록 안내 및 필터링

## 4. UI/UX
- **챗봇 인터페이스:**
  - 채팅창, 입력창, 배경이미지, 인물이미지(외부 URL 또는 업로드)
  - SNS 채팅 스타일(카카오톡 등) 참고
  - 헤더/푸터에 챗봇 정보(페르소나, 프롬프트 등) 명시
  - 다크모드, 반응형 디자인 지원

## 5. 외부 연동 및 확장성
- **DB 연동:**
  - 챗봇/프롬프트/대화 기록 저장용 DB( Supabase)
  - 디바이스 정보 기반 기록 저장 시, 로컬스토리지/IndexedDB 등 활용
- **확장성:**
  - 하나의 챗봇에 하나의 페르소나/프롬프트
  - 향후 챗봇 공유/검색/랭킹 등 커뮤니티 기능 확장 가능성 고려

## 6. 인증 및 개인정보
- **인증:**
  - 기본적으로 인증 없이 사용 가능
  - 필요시 토큰 등 간단 인증 도입 가능
- **개인정보:**
  - 개인정보 미포함 원칙
  - 대화 내용에 개인정보가 포함될 가능성 안내 및 필터링

## 7. 배포 및 운영
- **배포 환경:**
  - 1차: GitHub Pages(정적 웹사이트)
  - 서버/API/DB 등은 별도 백엔드 필요시 구축
- **운영:**
  - 모니터링, 로깅 등은 필수 아님(필요시 확장)
  - 트래픽 증가, 기능 확장에 대비한 구조 설계

## 8. 기타
- **성능:**
  - 예상 사용자 수, 트래픽 등 특별한 성능 요구사항 없음
- **향후 계획:**
  - 현재는 확장 계획 없음, 필요시 추가 기능 도입

---

이 명세서를 바탕으로 개발을 진행하면 됩니다. 추가/수정 사항이 있으면 언제든 업데이트하세요.
